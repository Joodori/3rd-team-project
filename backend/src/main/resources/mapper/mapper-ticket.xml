<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="lx.edu.levelup.feature.ticket.TicketRepository">

	<insert id="insertDB" parameterType="TicketVO">
		insert into ticket(user_no, ticket_name, ticket_amount, ticket_money_status, ticket_reserve_date)
		values(#{userNo}, #{ticketName}, #{ticketAmount}, #{ticketMoneyStatus}, now())
	</insert>
	
	<select id="getTicketList" parameterType="int" resultType="TicketResponseDTO">
		select *
		from ticket
		where user_no = #{user_no}
	</select>
	
	<!-- 관리자 마이페이지에서 입금 수락 눌렀을 때 -->
	<update id="updateMoneyStatus" parameterType="int">
		update ticket
		set ticket_money_status='입금완료'
		where ticket_no = #{ticket_no}
	</update>

</mapper>